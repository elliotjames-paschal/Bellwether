<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bellwether - Political Prediction Markets Research</title>
    <link rel="stylesheet" href="css/styles.css?v=20260206c">
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
    <nav class="nav">
        <div class="nav-inner">
            <div class="nav-left">
                <a href="./" class="nav-logo"><span class="nav-logo-text">Bel<span class="nav-logo-bounce">l</span><span class="nav-logo-rest">wether</span></span></a>
                <div class="nav-links">
                    <a href="./">Home</a>
                    <a href="globe.html">Globe</a>
                    <a href="research.html">Research</a>
                    <a href="data.html">Data</a>
                    <a href="about.html">About</a>
                </div>
            </div>
            <a href="https://www.hoover.org" target="_blank" rel="noopener" class="nav-affiliation">
                <img src="assets/hoover-tower.svg" alt="" class="nav-affiliation-icon">
                <span>Hoover Institution</span>
            </a>
        </div>
    </nav>
    <script>
    (function() {
        var nav = document.querySelector('.nav');
        var scrolled = false;
        window.addEventListener('scroll', function() {
            var s = window.scrollY > 20;
            if (s !== scrolled) { scrolled = s; nav.classList.toggle('scrolled', s); }
        }, { passive: true });
    })();
    </script>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-inner">
        <div class="hero-content">
            <div class="hero-layout">
                <div class="hero-text">
                    <h1>Tracking political prediction markets at scale</h1>
                    <p class="hero-description">
                        <span class="brand-inline">Bell</span> tracks <a href="https://polymarket.com" target="_blank" rel="noopener" style="color: var(--pm-color); text-decoration-color: rgba(37,99,235,0.3);">Polymarket</a> and <a href="https://kalshi.com" target="_blank" rel="noopener" style="color: var(--kalshi-color); text-decoration-color: rgba(16,185,129,0.3);">Kalshi</a>—the two largest prediction market platforms—to deliver real-time political risk intelligence.
                    </p>
                </div>
                <div class="hero-symbol">
                    <div id="globe-container"></div>
                </div>
            </div>
            <div class="hero-stats">
                <div class="stat-card">
                    <div class="stat-card-inner">
                        <span class="stat-value" id="hero-markets">32,492</span>
                        <span class="stat-label">Markets Tracked</span>
                        <span class="stat-context">Polymarket + Kalshi combined</span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-inner">
                        <span class="stat-value" id="hero-elections">1,708</span>
                        <span class="stat-label">Electoral Events</span>
                        <span class="stat-context">Unique contests worldwide</span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-inner">
                        <span class="stat-value" id="hero-volume">$19.1B</span>
                        <span class="stat-label">Total Volume</span>
                        <span class="stat-context">Trading volume tracked</span>
                    </div>
                </div>
            </div>
        </div>
        </div>
    </section>

    <!-- Research Finding -->
    <section class="research-finding">
        <div class="research-finding-inner">
            <p class="research-finding-quote">
                Prediction markets call elections correctly <span class="stat-num">85.9%</span> of the time—but only when measured at the right moment.
            </p>
            <div class="research-finding-meta">
                <span class="research-finding-stat">From Bell's analysis of <span class="stat-num" id="banner-electoral">10,856</span> markets</span>
                <span class="research-finding-divider">·</span>
                <span class="research-finding-stat"><span class="stat-num">0.08</span> Brier</span>
                <span class="research-finding-divider">·</span>
                <a href="papers/election-eve-methodology/" class="research-finding-link">Read methodology →</a>
            </div>
        </div>
    </section>

    <!-- Market Monitor -->
    <section id="monitor" class="monitor-section">
        <div class="container">
            <div class="monitor-header">
                <div class="monitor-header-left">
                    <h2>Market Monitor <span class="monitor-live-dot"></span></h2>
                </div>
                <div class="monitor-header-right">
                    <span class="monitor-status"><span class="stat-num" id="monitor-market-count">0</span> markets</span>
                    <span class="monitor-timestamp">Updated <span id="monitor-last-update">just now</span></span>
                </div>
            </div>

            <!-- Filters -->
            <div class="monitor-filters">
                <select id="filter-category" class="monitor-filter">
                    <option value="all">All Categories</option>
                    <!-- Populated dynamically from data -->
                </select>
                <select id="filter-platform" class="monitor-filter">
                    <option value="all">All Platforms</option>
                    <option value="polymarket">Polymarket</option>
                    <option value="kalshi">Kalshi</option>
                </select>
                <input type="text" id="filter-search" class="monitor-filter-search" placeholder="Search markets...">
            </div>

            <!-- Tabs -->
            <div class="monitor-tabs">
                <button class="monitor-tab active" data-view="biggest_moves">
                    Moving Now <span class="monitor-tab-count" id="tab-count-moves">0</span>
                </button>
                <button class="monitor-tab" data-view="highest_volume">
                    Most Active <span class="monitor-tab-count" id="tab-count-volume">0</span>
                </button>
                <button class="monitor-tab" data-view="divergences">
                    Divergences <span class="monitor-tab-count" id="tab-count-divergences">0</span>
                </button>
            </div>

            <!-- Grid: Cards + Sidebar -->
            <div class="monitor-grid">
                <div>
                    <div class="monitor-cards" id="monitor-cards">
                        <div class="monitor-empty">Loading markets...</div>
                    </div>
                    <div class="monitor-load-more" id="monitor-load-more" style="display: none;">
                        <button id="load-more-btn">Load more markets</button>
                    </div>
                </div>

                <div class="monitor-sidebar">
                    <!-- Data Helper -->
                    <div class="sidebar-card data-helper-card" id="data-helper">
                        <div class="sidebar-card-eyebrow">Help Bellwether Improve</div>
                        <div class="sidebar-card-title">Help Us Match Markets</div>
                        <p class="sidebar-card-desc">Select markets on Polymarket and Kalshi that cover the same event so we can compare them. You can also flag errors or mislabeled markets.</p>
                        <button id="start-review-btn" class="data-helper-btn">
                            <span class="btn-icon">✓</span>
                            Start Reviewing
                        </button>
                        <div id="review-mode-controls" class="review-controls hidden">
                            <div class="review-selected-count"><span id="selected-count">0</span> selected</div>
                            <button id="submit-review-btn" class="review-submit-btn" disabled>Submit Feedback</button>
                            <button id="cancel-review-btn" class="review-cancel-btn">Cancel</button>
                        </div>
                    </div>

                    <!-- Latest Research -->
                    <div class="sidebar-card sidebar-card-featured">
                        <div class="sidebar-card-eyebrow">Latest Research</div>
                        <div class="sidebar-card-title">When You Measure Matters</div>
                        <p class="sidebar-card-desc">The field has quietly switched how it samples prediction market prices. The switch biases every accuracy metric.</p>
                        <a href="papers/election-eve-methodology/" class="sidebar-card-link">Read paper →</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <p>&copy; 2024–2025 Hall Lab, Stanford University</p>
                <div class="footer-links">
                    <a href="https://github.com/hall-lab/prediction-markets">GitHub</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Election Detail Modal -->
    <div id="election-modal" class="modal-overlay">
        <div class="modal-content" id="election-modal-content">
            <!-- Content injected by JS -->
        </div>
    </div>

    <!-- Data Feedback Modal -->
    <div id="feedback-modal" class="modal-overlay">
        <div class="modal-content feedback-modal-content">
            <button class="modal-close" id="feedback-modal-close">&times;</button>
            <h3 class="feedback-modal-title">Label Selected Markets</h3>
            <p class="feedback-modal-subtitle">You've selected <span id="feedback-count">0</span> market(s). What would you like to tell us?</p>

            <div class="feedback-options">
                <label class="feedback-option feedback-option-featured">
                    <input type="radio" name="feedback-type" value="same-event">
                    <span class="feedback-option-text">
                        <strong>Same Event (Cross-Platform Match)</strong>
                        <span class="feedback-option-desc">These markets on Polymarket and Kalshi are about the same event — help us link them for comparison</span>
                    </span>
                </label>
                <label class="feedback-option">
                    <input type="radio" name="feedback-type" value="not-political">
                    <span class="feedback-option-text">
                        <strong>Not Political</strong>
                        <span class="feedback-option-desc">These markets aren't about politics</span>
                    </span>
                </label>
                <label class="feedback-option">
                    <input type="radio" name="feedback-type" value="wrong-category">
                    <span class="feedback-option-text">
                        <strong>Wrong Category</strong>
                        <span class="feedback-option-desc">Mislabeled category (e.g., marked as Electoral but isn't)</span>
                    </span>
                </label>
                <label class="feedback-option">
                    <input type="radio" name="feedback-type" value="other">
                    <span class="feedback-option-text">
                        <strong>Other Issue</strong>
                        <span class="feedback-option-desc">Something else is wrong</span>
                    </span>
                </label>
            </div>

            <div class="feedback-notes">
                <label for="feedback-notes-input">Notes</label>
                <textarea id="feedback-notes-input" placeholder="For matching: briefly explain why these are the same event. For errors: describe what's wrong." required></textarea>
            </div>

            <div class="feedback-actions">
                <button id="feedback-cancel-btn" class="feedback-btn-secondary">Cancel</button>
                <button id="feedback-submit-btn" class="feedback-btn-primary">Submit</button>
            </div>
        </div>
    </div>

    <script src="js/globe.js?v=20260203c"></script>
    <script src="js/monitor.js?v=20260207f"></script>
</body>
</html>
